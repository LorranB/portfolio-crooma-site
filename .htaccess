# Usa index.html como padrão
DirectoryIndex index.html
Options -MultiViews

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1) /index.html -> /
  RewriteCond %{THE_REQUEST} \s/+(.*/)?index\.html[?\s] [NC]
  RewriteRule ^ %1 [R=301,L]

  # 2) Qualquer .html visível -> versão sem extensão (ex.: /sobre.html -> /sobre)
  RewriteCond %{THE_REQUEST} \s/+(.+)\.html[?\s] [NC]
  RewriteRule ^ %1 [R=301,L]

  # 3) Reescrita interna: /pagina -> /pagina.html se o arquivo existir
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME}\.html -f
  RewriteRule ^(.+?)/?$ $1.html [L]
</IfModule>
